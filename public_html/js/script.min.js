$((function(){(()=>{const observer_1=lozad(".lozad",{rootMargin:"0px",threshold:0}),observer_2=lozad(".lozad",{rootMargin:"200px 0px",threshold:0}),observer_3=lozad(".lozad",{rootMargin:"600px 0px",threshold:0});observer_1.observe(),setTimeout(()=>{observer_2.observe()},4e3),setTimeout(()=>{observer_3.observe()},8e3)})(),"undefined"==typeof $meta_og_image_0&&($meta_og_image_0=$("#meta_og_image").attr("content"));const filterCat=document.querySelectorAll(".maincontent .filter-button"),filterE=document.querySelectorAll(".maincontent .filterE"),urlParams=()=>{const params=new URLSearchParams(window.location.search);return{path:window.location.href.split("?")[0],category:null===params.get("category")?[]:params.get("category").split(","),photo:params.get("photo")}},params_onLoading=urlParams();let activeCatList=params_onLoading.category;const toggleFilterCat=activeCatList=>{testList=activeCatList.join("|"),filterCat.forEach(cat=>{0===activeCatList.length?"all"===cat.dataset.class?cat.classList.add("active"):cat.classList.remove("active"):testList.includes(cat.dataset.class)?cat.classList.add("active"):cat.classList.remove("active")})},toggleFilterE=activeCatList=>{0===activeCatList.length?filterE.forEach(e=>{e.style.display="block"}):filterE.forEach(e=>{activeCatList.every(a=>e.dataset.class.includes(a))?e.style.display="block":e.style.display="none"})};if(activeCatList.length>0&&(toggleFilterCat(activeCatList),toggleFilterE(activeCatList)),null!=params_onLoading.photo){const $photoid=$("#"+params_onLoading.photo);$photoid.children("div").attr("class").indexOf("photo-landscape")>-1&&$("#imagemodal>div").attr("class",$("#imagemodal>div").attr("class")+" modal-lg");const $image_src=$photoid.find("img").attr("data-src");$(".modal-img").attr("src",$image_src),$("p.modal-photo-title").text($photoid.find("p.photo-title").text()),$("p.modal-photo-location").text($photoid.find("p.photo-location").text()),$("p.modal-photo-category").text(),$("#imagemodal").modal("show")}filterCat.forEach(cat=>{cat.addEventListener("click",()=>{"all"===cat.dataset.class?activeCatList=[]:activeCatList.includes(cat.dataset.class)?activeCatList=activeCatList.filter(e=>e!==cat.dataset.class):activeCatList.push(cat.dataset.class),toggleFilterCat(activeCatList),toggleFilterE(activeCatList);let param=window.location.href.split("?")[0];1===activeCatList.length&&(param=param.concat("?category=",activeCatList[0])),activeCatList.length>1&&(param=param.concat("?category=",activeCatList.join(","))),window.history.replaceState(null,null,param)})}),$(".gallery .pop").click((function(){$(this).children("div").children("div").attr("class").indexOf("photo-landscape")>-1&&$("#imagemodal>div").attr("class",$("#imagemodal>div").attr("class")+" modal-lg");const $image_src=$(this).find("img").attr("data-src");$(".modal-img").attr("src",$image_src),$("p.modal-photo-title").text($(this).find("p.photo-title").text()),$("p.modal-photo-location").text($(this).find("p.photo-location").text());const categoryInfoArr=$(this).find("div").attr("data-class").split(" ");categoryInfoArr.forEach((function(e,i){"bnw"===e?this[i]="B&W":""===e?this[i]="None":(e=e.replace("_"," "),this[i]=e.replace("_"," ").charAt(0).toUpperCase()+e.slice(1))}),categoryInfoArr),1===categoryInfoArr.length?categoryInfoStr="Category: ".concat(categoryInfoArr[0]):categoryInfoStr="Categories: ".concat(categoryInfoArr.join(", ")),$("p.modal-photo-category").text(categoryInfoStr),$("#imagemodal").modal("show");let url=window.location.href;url=url.indexOf("?")>-1?url.concat("&"):url.concat("?"),url=url.concat("photo=",$(this).attr("id")),window.history.replaceState(null,null,url),$("#meta_og_image").attr("content",$image_src),$("#meta_og_url").attr("content",window.location.href)})),$(document).click(e=>{0==e.button&&$("#imagemodal").modal("hide")}),$("#imagemodal").on("hidden.bs.modal",()=>{$("#imagemodal>div").attr("class").indexOf("modal-lg")>-1&&$("#imagemodal>div").attr("class","modal-dialog modal-dialog-centered");const url_modalClosed=urlParams();let url="";url=0===url_modalClosed.category.length?url_modalClosed.path:url.concat(url_modalClosed.path,"?category=",url_modalClosed.category),window.history.replaceState(null,null,url),$("#meta_og_image").attr("content",$meta_og_image_0),$("#meta_og_url").attr("content",url)});const backToTopButton=document.getElementById("back-to-top-button");window.onscroll=()=>{document.body.scrollTop>2e3||document.documentElement.scrollTop>2e3?backToTopButton.style.display="block":backToTopButton.style.display="none"},$("#back-to-top-button").click(()=>($("html,body").animate({scrollTop:0},"slow"),!1)),$("#nav-icon, #nav-icon-demo").click((function(){$(this).toggleClass("open")}))}));
